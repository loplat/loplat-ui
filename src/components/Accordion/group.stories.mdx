import { useState } from 'react';
import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { AccordionGroup } from './component/group.tsx';
import { generateTable } from '../../storybook-props';
import { data } from './single.stories.mdx';
import { runTestGroup } from './storybookTest.ts';

export const list = Array.from({ length: 4 }).fill(data);

<Meta
  title="Components/Accordion/Group"
  component={AccordionGroup}
  argTypes={{
    list: {
      description: '아코디언 컴포넌트로 렌덩링하고자하는 `title`, `content` 을 입력하면 됩니다.',
      control: 'null',
    },
    defaultExpandedIndex: {
      control: 'number',
      ...generateTable({ defaultValue: -1, type: 'number' }),
    },
    duration: {
      ...generateTable({ defaultValue: 0.2 }),
    },
    headingLevel: {
      ...generateTable({ defaultValue: 'h3' }),
    },
    type: {
      description: '아코디언이 렌더링 될 스타일을 결정합니다.',
      ...generateTable({ defaultValue: 'fill' }),
    },
  }}
/>

export const Template = (args) => <AccordionGroup list={list} {...args} />;

# 그룹 아코디언

여러 정보를 확인할 수 있는 그룹 아코디언 입니다.
토글하여 자세한 설명을 확인할 수 있습니다.

기존에 열린 아코디언이 있을 경우, 다른 아코디언이 열리면서 닫힙니다.

`tab`과 `shift+tab`을 이용하여 아코디언의 타이틀 사이를 이동할 수 있습니다.

<Canvas>
  <Story name="default">{runTestGroup(Template.bind({}))}</Story>
</Canvas>

<ArgsTable story="default" />

## 예제

### 열려있는 아코디언 컴포넌트

`defaultExpandedIndex`속성을 이용하여 원하는 아코디언이 열린 상태로 렌더링할 수 있습니다.

<Canvas>
  <Story name="open-2nd" args={{ defaultExpandedIndex: 2 }}>
    {Template.bind({})}
  </Story>
</Canvas>

### type: line

<Canvas>
  <Story name="line" args={{ type: 'line' }}>
    {Template.bind({})}
  </Story>
</Canvas>
