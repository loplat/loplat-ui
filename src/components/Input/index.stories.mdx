import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { Input } from './index';
import { Campaign } from '../../assets/Icon/generated/Campaign.tsx';
import { red300 } from '../../core/colors/red';
import { bluescale500 } from '../../core/colors/bluescale.ts';
import { disabled as disabledProp, icon, pickPropsInObj, eventHandler } from '../../storybook-props/';

<Meta
  title="Components/Input"
  component={Input}
  argTypes={{
    value: { description: '`input` 상태를 연결해주세요.', type: 'string', table: { category: 'input' } },
    id: {
      description: '`label`태그와 연동하기 위한 `input` 태그의 `id` 속성입니다.',
      type: 'string',
      table: { category: 'input' },
    },
    type: { description: '`input` 태그의 type 속성입니다.', type: 'string', table: { category: 'input' } },
    autoComplete: {
      description: '`input` 태그의 `autocomplete` 속성입니다.',
      type: 'string',
      table: { category: 'input' },
    },
    placeholder: {
      description: '`input` 태그의 `placeholder` 속성입니다.',
      type: 'string',
      table: { category: 'input' },
    },
    className: { description: '`input` 태그의 `class` 속성입니다.', type: 'string', table: { category: 'input' } },
    error: { description: '`true`일 때, `errorMessage`가 하단에 표시됩니다.', table: { category: 'error' } },
    errorMessage: { table: { category: 'error' } },
    ...disabledProp('input', 'input'),
    ...pickPropsInObj(icon, 'isIconVisible', 'rightIcon'),
    ...pickPropsInObj(eventHandler, 'onKeyPress', 'onBlur', 'onFocus', 'onChange'),
  }}
/>

export const Template = (args) => (
  <Input name="test" placeholder="10글자 이상 시 에러 발생 가능" errorMessage="에러가 발생했습니다!" {...args} />
);

# Input

<Canvas>
  <Story name="default">{Template.bind({})}</Story>
</Canvas>

<ArgsTable story="default" />

## Stories

### disabled

<Canvas>
  <Story name="disabled" args={{ disabled: true }}>
    {Template.bind({})}
  </Story>
</Canvas>

### Right Icon

아이콘이 있는 `Input` 컴포넌트입니다.

<Canvas>
  <Story
    name="right icon"
    args={{
      rightIcon: <Campaign fillColor={bluescale500} size={30} />,
      isIconVisible: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### error + right icon

에러가 발생한 아이콘이 있는 `Input` 컴포넌트입니다.

<Canvas>
  <Story
    name="right icon error"
    args={{
      value: 'error가 발생하는 값',
      rightIcon: <Campaign fillColor={red300} size={30} />,
      isIconVisible: true,
      error: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
