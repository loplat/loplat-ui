import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import * as IconComponents from './export.generated';
import { Icons } from './styles.jsx';
import { hideCanvas, spacing, generateTable } from '../../storybook-props/';

<Meta
  title="Assets/Icon"
  component={IconComponents.CloudIcon}
  argTypes={{
    ...spacing('margin'),
    size: { description: '`px` 단위입니다.', ...generateTable({ defaultValue: 32 }) },
    fillColor: { control: 'color', ...generateTable({ defaultValue: '#9DAAB7' }) },
    suffixForId: {
      description: `기본적으로 \`unique id\`를 생성하여 _id collision_을 막습니다. __하지만 SSR(next.js)에서 아이콘을 사용할 경우, server렌더링한 \`unique id\`와 client렌더링한 \`unique id\`가 서로 다른 문제__가 생깁니다. 이문제를 해결하기 위해서는 사용자가 직접 \`suffixForId\`를 제공해서 _server와 client의 icon id를 통일_해야 합니다.`,
    },
  }}
  parameters={{
    ...hideCanvas,
  }}
/>

export const Template = (args) => <IconComponents.CloudIcon {...args} />;

# Icon

<Canvas>
  <Story name="cloud" args={{ size: 32, fillColor: '#000000' }}>
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="cloud" />

# 리스트

## 화살표

<Story name="arrow">
  <Icons>
    {Object.entries(IconComponents)
      .filter(([name]) => name.includes('Arrow'))
      .map(([name, Component]) => (
        <div key={name}>
          <Component size={32} fillColor={'#000000'} />
          <span>{name.split('Icon')[0]}</span>
        </div>
      ))}
  </Icons>
</Story>

## 꺽쇠

<Story name="chevron">
  <Icons>
    {Object.entries(IconComponents)
      .filter(([name]) => name.includes('Chevron'))
      .map(([name, Component]) => (
        <div key={name}>
          <Component size={32} fillColor={'#000000'} />
          <span>{name.split('Icon')[0]}</span>
        </div>
      ))}
  </Icons>
</Story>

## 원형

<Story name="circle">
  <Icons>
    {Object.entries(IconComponents)
      .filter(([name]) => name.includes('Circle') || name.includes('circle'))
      .map(([name, Component]) => (
        <div key={name}>
          <Component size={32} fillColor={'#000000'} />
          <span>{name.split('Icon')[0]}</span>
        </div>
      ))}
  </Icons>
</Story>

## 기타

<Story name="others">
  <Icons>
    {Object.entries(IconComponents)
      .filter(
        ([name]) =>
          !(name.includes('circle') || name.includes('Circle') || name.includes('Arrow') || name.includes('Chevron')),
      )
      .map(([name, Component]) => (
        <div key={name}>
          <Component size={32} fillColor={'#000000'} />
          <span>{name.split('Icon')[0]}</span>
        </div>
      ))}
  </Icons>
</Story>
